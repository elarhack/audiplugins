// SSL Insecure Content Fixer
// https://ssl.webaware.net.au/

!function(t){function i(s){t(s).attr("aria-hidden","false").show()}function a(s){t(s).attr("aria-hidden","true").hide()}t.ajax({url:sslfix.ajax_url_ssl,data:{action:"sslfix-environment",sslfix_nonce:sslfix.test_nonce},dataType:"json",method:"GET",error:function(s,e){a("#sslfix-loading"),i("#sslfix-test-result-head"),i("#sslfix-environment"),t("#sslfix-environment pre").text(e+"\n"+s.responseText)},success:function(s){if(s.ssl)switch(s.detect){case"HTTPS":case"port":i("#sslfix-normal");break;case"HTTP_X_FORWARDED_PROTO":i("#sslfix-HTTP_X_FORWARDED_PROTO");break;case"HTTP_X_FORWARDED_SSL":i("#sslfix-HTTP_X_FORWARDED_SSL");break;case"HTTP_CLOUDFRONT_FORWARDED_PROTO":i("#sslfix-HTTP_CLOUDFRONT_FORWARDED_PROTO");break;case"HTTP_X_ARR_SSL":i("#sslfix-HTTP_X_ARR_SSL");break;case"HTTP_X_FORWARDED_SCHEME":i("#sslfix-HTTP_X_FORWARDED_SCHEME");break;case"HTTP_CF_VISITOR":i("#sslfix-HTTP_CF_VISITOR")}else i("#sslfix-detect_fail");a("#sslfix-loading"),i("#sslfix-test-result-head"),i("#sslfix-environment"),t("#sslfix-environment pre").text(s.env)}}),t.ajax({url:sslfix.ajax_url_wp,data:{action:"sslfix-test-https"},dataType:"json",method:"GET",xhrFields:{withCredentials:!0},success:function(s){s.https&&t("#sslfix-https-detection").addClass("dashicons dashicons-"+s.https)}})}(jQuery);